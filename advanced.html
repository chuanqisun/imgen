<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Representation</title>
  </head>

  <body class="app-layout">
    <h2>Input</h2>
    <button id="use-microphone">Enable audio device</button>

    <div class="module-grid">
      <fieldset>
        <legend>Default chat</legend>
        <label for="chat-goal-prompt">Goal</label>
        <br />
        <input id="chat-goal-prompt" type="text" placeholder="Goal" />
        <button data-action="talk" data-talk="chat-goal-prompt">Talk</button>
        <button id="start-chat">Start</button>
        <br />
        <label for="default-talk-transcription">Chat</label>
        <br />
        <input id="default-talk-transcription" type="text" readonly />
        <button data-action="talk" data-talk="default-talk-transcription">Talk</button>
        <details>
          <summary>Transcript</summary>
          <pre><code id="chat-transcript"></code></pre>
        </details>
      </fieldset>

      <fieldset>
        <legend>Show</legend>
        <input id="camera-prompt" type="text" placeholder="Goal" />
        <button data-action="talk" data-talk="camera-prompt">Talk</button> <span id="cam-task-count"></span> Pending
        <details>
          <summary>Monitor</summary>
          <video id="monitor" style="width: 200px; height: 200px" poster="https://placehold.co/200?text=STREAM"></video>
        </details>
        <button id="cam-toggle">Start camera</button>
        <button id="cam-capture">Capture</button>
        <label><input type="checkbox" id="auto-capture" /> Auto-capture</label>&ensp;
        <label><input type="checkbox" id="temporal-mode" /> Temporal</label>
        <pre><code id="cam-description"></code></pre>
      </fieldset>

      <fieldset>
        <legend>Interview</legend>
        <input id="interview-prompt" type="text" placeholder="Goal" />
        <button data-action="talk" data-talk="interview-prompt">Talk</button>
        <button data-action="start-interview">Start</button>
        <button id="realtime-push-to-talk">Push to talk</button>
        <label><input type="checkbox" id="always-on" /> Always on</label>
      </fieldset>

      <fieldset>
        <legend>Tell</legend>
        <input id="tell-prompt" type="text" readonly />
        <button data-action="talk" data-talk="tell-prompt">Talk</button>
        <span id="message-output"></span>
      </fieldset>
    </div>

    <h2>Memory</h2>
    <fieldset>
      <legend>World model</legend>
      <input id="model-prompt" placeholder="Attention" type="text" />
      <button data-action="talk" data-talk="model-prompt">Talk</button>
      <button id="forget">Forget</button>
      <button id="load">Load</button>
      <button id="save">Save</button>
      <code-editor-element id="xml-editor"></code-editor-element>
    </fieldset>

    <h2>Output</h2>
    <div class="module-grid">
      <fieldset>
        <legend>Write</legend>
        <input id="writing-prompt" type="text" placeholder="Post-processing prompt" />
        <button data-action="talk" data-talk="writing-prompt">Talk</button>
        <button id="write">Write</button>
        <pre><code id="writing-preview"></code></pre>
        <article></article>
      </fieldset>

      <fieldset>
        <legend>Paint</legend>
        <select id="model" name="model">
          <option value="black-forest-labs/FLUX.1-schnell-Free" selected>FLUX.1-schnell-Free</option>
          <option value="black-forest-labs/FLUX.1-schnell">FLUX.1-schnell</option>
        </select>
        <input id="visual-prompt" type="text" placeholder="Post-processing prompt" />
        <button data-action="talk" data-talk="visual-prompt">Talk</button>
        <button id="render">Render</button>
        <label><input type="checkbox" id="continuous-render" /> Continous</label>
        <img id="image-output" />
        <div id="image-prompt"></div>
      </fieldset>

      <fieldset>
        <legend>Discuss</legend>
        <input id="dialogue-prompt" type="text" placeholder="Post-processing prompt" />
        <button data-action="talk" data-talk="dialogue-prompt">Talk</button>
        <button id="simulate">Start</button>
      </fieldset>
    </div>

    <footer>SiXML is an XML-grounded Simulation Engine. <a href="./index.html">Basic mode</a></footer>

    <ai-bar>
      <azure-stt-node></azure-stt-node>
      <llm-node></llm-node>
      <azure-tts-node></azure-tts-node>
      <azure-dalle-node></azure-dalle-node>
      <together-ai-node></together-ai-node>
      <openai-realtime-node></openai-realtime-node>
      <eleven-labs-tts-node></eleven-labs-tts-node>
      <drag-handle></drag-handle>
      <hide-bar></hide-bar>
      <azure-connection></azure-connection>
      <camera-node video="monitor"></camera-node>
      <microphone-node></microphone-node>
    </ai-bar>
    <script src="/src/advanced.ts" type="module"></script>
  </body>
</html>
